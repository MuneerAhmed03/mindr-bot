generator client {
  provider = "prisma-client-js"
  previewFeatures = ["postgresqlExtensions"]
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
  extensions = [pgvector(map: "vector", schema: "extensions")]
}

model memory {
  memory_id String                 @id @db.Uuid
  user_id   Int
  content   String
  embedding Unsupported("vector")?

  @@index([user_id], map: "idx_user_id")
  @@index([embedding])
}
model user {
  user_id Int    @id @default(autoincrement())
  name    String
  email   String
  avatar  String?
  role    String  @default("user")
}